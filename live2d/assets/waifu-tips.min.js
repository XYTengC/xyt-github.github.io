window.live2d_settings=[],live2d_settings.modelAPI="https://live2d.fghrsh.net/api/",live2d_settings.tipsMessage="waifu-tips.json",live2d_settings.hitokotoAPI="hitokoto.cn",live2d_settings.modelId=1,live2d_settings.modelTexturesId=53,live2d_settings.showToolMenu=!0,live2d_settings.canCloseLive2d=!0,live2d_settings.canSwitchModel=!0,live2d_settings.canSwitchTextures=!0,live2d_settings.canSwitchHitokoto=!0,live2d_settings.canTakeScreenshot=!0,live2d_settings.canTurnToHomePage=!0,live2d_settings.canTurnToAboutPage=!0,live2d_settings.modelStorage=!0,live2d_settings.modelRandMode="switch",live2d_settings.modelTexturesRandMode="rand",live2d_settings.showHitokoto=!0,live2d_settings.showF12Status=!0,live2d_settings.showF12Message=!1,live2d_settings.showF12OpenMsg=!0,live2d_settings.showCopyMessage=!0,live2d_settings.showWelcomeMessage=!0,live2d_settings.waifuSize="280x250",live2d_settings.waifuTipsSize="250x70",live2d_settings.waifuFontSize="12px",live2d_settings.waifuToolFont="14px",live2d_settings.waifuToolLine="20px",live2d_settings.waifuToolTop="0px",live2d_settings.waifuMinWidth="768px",live2d_settings.waifuEdgeSide="left:0",live2d_settings.waifuDraggable="disable",live2d_settings.waifuDraggableRevert=!0,live2d_settings.l2dVersion="0.0.1",live2d_settings.l2dVerDate="2026.1.9",live2d_settings.homePageUrl="https://xytengc.github.io",live2d_settings.aboutPageUrl="https://www.fghrsh.net/post/123.html",live2d_settings.screenshotCaptureName="live2d.png",String.prototype.render=function(e){var t=/(\\)?\{([^\{\}\\]+)(\\)?\}/g;return this.replace(t,function(t,o,i,a){if(o||a)return t.replace("\\","");var s,u,n,f=i.replace(/\s/g,"").split("."),l=e;for(s=0,u=f.length;s<u;++s)if(void 0===(l=l[n=f[s]])||null===l)return"";return l})};var re=/x/;function empty(e){return void 0===e||null==e||""==e}function getRandText(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length+1)-1]:e}function showMessage(e,t,o){(o||""===sessionStorage.getItem("waifu-text")||null===sessionStorage.getItem("waifu-text"))&&(Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length+1)-1]),live2d_settings.showF12Message&&console.log("[Message]",e.replace(/<[^<>]+>/g,"")),o&&sessionStorage.setItem("waifu-text",e),$(".waifu-tips").stop(),$(".waifu-tips").html(e).fadeTo(200,1),void 0===t&&(t=5e3),hideMessage(t))}function hideMessage(e){$(".waifu-tips").stop().css("opacity",1),void 0===e&&(e=5e3),window.setTimeout(function(){sessionStorage.removeItem("waifu-text")},e),$(".waifu-tips").delay(e).fadeTo(200,0)}function initModel(waifuPath,type){eval(function(e,t,o,i,a,s){if(a=function(e){return(e<t?"":a(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;o--;)s[a(o)]=i[o]||a(o);i=[function(e){return s[e]}],a=function(){return"\\w+"},o=1}for(;o--;)i[o]&&(e=e.replace(RegExp("\\b"+a(o)+"\\b","g"),i[o]));return e}("8.d(\" \");8.d(\"\\U,.\\y\\5.\\1\\1\\1\\1/\\1,\\u\\2 \\H\\n\\1\\1\\1\\1\\1\\b ', !-\\r\\j-i\\1/\\1/\\g\\n\\1\\1\\1 \\1 \\a\\4\\f'\\1\\1\\1 L/\\a\\4\\5\\2\\n\\1\\1 \\1 /\\1 \\a,\\1 /|\\1 ,\\1 ,\\1\\1\\1 ',\\n\\1\\1\\1\\q \\1/ /-\\j/\\1\\h\\E \\9 \\5!\\1 i\\n\\1\\1\\1 \\3 \\6 7\\q\\4\\c\\1 \\3'\\s-\\c\\2!\\t|\\1 |\\n\\1\\1\\1\\1 !,/7 '0'\\1\\1 \\X\\w| \\1 |\\1\\1\\1\\n\\1\\1\\1\\1 |.\\x\\\"\\1\\l\\1\\1 ,,,, / |./ \\1 |\\n\\1\\1\\1\\1 \\3'| i\\z.\\2,,A\\l,.\\B / \\1.i \\1|\\n\\1\\1\\1\\1\\1 \\3'| | / C\\D/\\3'\\5,\\1\\9.\\1|\\n\\1\\1\\1\\1\\1\\1 | |/i \\m|/\\1 i\\1,.\\6 |\\F\\1|\\n\\1\\1\\1\\1\\1\\1.|/ /\\1\\h\\G \\1 \\6!\\1\\1\\b\\1|\\n\\1\\1\\1 \\1 \\1 k\\5>\\2\\9 \\1 o,.\\6\\2 \\1 /\\2!\\n\\1\\1\\1\\1\\1\\1 !'\\m//\\4\\I\\g', \\b \\4'7'\\J'\\n\\1\\1\\1\\1\\1\\1 \\3'\\K|M,p,\\O\\3|\\P\\n\\1\\1\\1\\1\\1 \\1\\1\\1\\c-,/\\1|p./\\n\\1\\1\\1\\1\\1 \\1\\1\\1'\\f'\\1\\1!o,.:\\Q \\R\\S\\T v\"+e.V+\" / W \"+e.N);8.d(\" \");",60,60,"|u3000|uff64|uff9a|uff40|u30fd|uff8d||console|uff8a|uff0f|uff3c|uff84|log|live2d_settings|uff70|u00b4|uff49||u2010||u3000_|u3008||_|___|uff72|u2500|uff67|u30cf|u30fc||u30bd|u4ece|u30d8|uff1e|__|u30a4|k_|uff17_|u3000L_|u3000i|uff1a|u3009|uff34|uff70r|u30fdL__||___i|l2dVerDate|u30f3|u30ce|nLive2D|u770b|u677f|u5a18|u304f__|l2dVersion|FGHRSH|u00b40i".split("|"),0,{})),"function"!=typeof $.ajax&&("function"==typeof jQuery.ajax?window.$=jQuery:console.log("[Error] JQuery is not defined.")),live2d_settings.waifuSize=live2d_settings.waifuSize.split("x"),live2d_settings.waifuTipsSize=live2d_settings.waifuTipsSize.split("x"),live2d_settings.waifuEdgeSide=live2d_settings.waifuEdgeSide.split(":"),$("#live2d").attr("width",live2d_settings.waifuSize[0]),$("#live2d").attr("height",live2d_settings.waifuSize[1]),$(".waifu-tips").width(live2d_settings.waifuTipsSize[0]),$(".waifu-tips").height(live2d_settings.waifuTipsSize[1]),$(".waifu-tips").css("top",live2d_settings.waifuToolTop),$(".waifu-tips").css("font-size",live2d_settings.waifuFontSize),$(".waifu-tool").css("font-size",live2d_settings.waifuToolFont),$(".waifu-tool span").css("line-height",live2d_settings.waifuToolLine),"left"==live2d_settings.waifuEdgeSide[0]?$(".waifu").css("left",live2d_settings.waifuEdgeSide[1]+"px"):"right"==live2d_settings.waifuEdgeSide[0]&&$(".waifu").css("right",live2d_settings.waifuEdgeSide[1]+"px"),window.waifuResize=function(){$(window).width()<=Number(live2d_settings.waifuMinWidth.replace("px",""))?$(".waifu").hide():$(".waifu").show()},"disable"!=live2d_settings.waifuMinWidth&&(waifuResize(),$(window).resize(function(){waifuResize()}));try{"axis-x"==live2d_settings.waifuDraggable?$(".waifu").draggable({axis:"x",revert:live2d_settings.waifuDraggableRevert}):"unlimited"==live2d_settings.waifuDraggable?$(".waifu").draggable({revert:live2d_settings.waifuDraggableRevert}):$(".waifu").css("transition","all .3s ease-in-out")}catch(err){console.log("[Error] JQuery UI is not defined.")}"auto"==live2d_settings.homePageUrl?(window.location.protocol,window.location.hostname):live2d_settings.homePageUrl,"file:"==window.location.protocol&&"//"==live2d_settings.modelAPI.substr(0,2)&&(live2d_settings.modelAPI="http:"+live2d_settings.modelAPI),$(".waifu-tool .fui-home").click(function(){window.open(live2d_settings.homePageUrl)}),$(".waifu-tool .fui-info-circle").click(function(){window.open(live2d_settings.aboutPageUrl)}),"object"==typeof waifuPath?loadTipsMessage(waifuPath):$.ajax({cache:!0,url:""==waifuPath?live2d_settings.tipsMessage:"waifu-tips.json"==waifuPath.substr(waifuPath.length-15)?waifuPath:waifuPath+"waifu-tips.json",dataType:"json",success:function(e){loadTipsMessage(e)}}),live2d_settings.showToolMenu||$(".waifu-tool").hide(),live2d_settings.canCloseLive2d||$(".waifu-tool .fui-cross").hide(),live2d_settings.canSwitchModel||$(".waifu-tool .fui-eye").hide(),live2d_settings.canSwitchTextures||$(".waifu-tool .fui-user").hide(),live2d_settings.canSwitchHitokoto||$(".waifu-tool .fui-chat").hide(),live2d_settings.canTakeScreenshot||$(".waifu-tool .fui-photo").hide(),live2d_settings.canTurnToHomePage||$(".waifu-tool .fui-home").hide(),live2d_settings.canTurnToAboutPage||$(".waifu-tool .fui-info-circle").hide(),void 0===waifuPath&&(waifuPath="");var modelId=localStorage.getItem("modelId"),modelTexturesId=localStorage.getItem("modelTexturesId");if(!live2d_settings.modelStorage||null==modelId)var modelId=live2d_settings.modelId,modelTexturesId=live2d_settings.modelTexturesId;loadModel(modelId,modelTexturesId)}function loadModel(e,t=0){live2d_settings.modelStorage?(localStorage.setItem("modelId",e),localStorage.setItem("modelTexturesId",t)):(sessionStorage.setItem("modelId",e),sessionStorage.setItem("modelTexturesId",t)),loadlive2d("live2d",live2d_settings.modelAPI+"get/?id="+e+"-"+t,live2d_settings.showF12Status?console.log("[Status]","live2d","模型",e+"-"+t,"加载完成"):null)}function loadTipsMessage(e){window.waifu_tips=e,$.each(e.mouseover,function(e,t){$(document).on("mouseover",t.selector,function(){var e=getRandText(t.text);showMessage(e=e.render({text:$(this).text()}),3e3)})}),$.each(e.click,function(e,t){$(document).on("click",t.selector,function(){var e=getRandText(t.text);showMessage(e=e.render({text:$(this).text()}),3e3,!0)})}),$.each(e.seasons,function(e,t){var o=new Date,i=t.date.split("-")[0],a=t.date.split("-")[1]||i;if(i.split("/")[0]<=o.getMonth()+1&&o.getMonth()+1<=a.split("/")[0]&&i.split("/")[1]<=o.getDate()&&o.getDate()<=a.split("/")[1]){var s=getRandText(t.text);showMessage(s=s.render({year:o.getFullYear()}),6e3,!0)}}),live2d_settings.showF12OpenMsg&&(re.toString=function(){return showMessage(getRandText(e.waifu.console_open_msg),5e3,!0),""}),live2d_settings.showCopyMessage&&$(document).on("copy",function(){showMessage(getRandText(e.waifu.copy_message),5e3,!0)}),$(".waifu-tool .fui-photo").click(function(){showMessage(getRandText(e.waifu.screenshot_message),5e3,!0),window.Live2D.captureName=live2d_settings.screenshotCaptureName,window.Live2D.captureFrame=!0}),$(".waifu-tool .fui-cross").click(function(){sessionStorage.setItem("waifu-display","none"),showMessage(getRandText(e.waifu.hidden_message),1300,!0),window.setTimeout(function(){$(".waifu").hide()},1300)}),window.showWelcomeMessage=function(e){var t;if(window.location.href==live2d_settings.homePageUrl){var o=new Date().getHours();t=o>23||o<=5?getRandText(e.waifu.hour_tips.t23-5):o>5&&o<=7?getRandText(e.waifu.hour_tips.t5-7):o>7&&o<=11?getRandText(e.waifu.hour_tips.t7-11):o>11&&o<=14?getRandText(e.waifu.hour_tips.t11-14):o>14&&o<=17?getRandText(e.waifu.hour_tips.t14-17):o>17&&o<=19?getRandText(e.waifu.hour_tips.t17-19):o>19&&o<=21?getRandText(e.waifu.hour_tips.t19-21):o>21&&o<=23?getRandText(e.waifu.hour_tips.t21-23):getRandText(e.waifu.hour_tips.default)}else{var i=e.waifu.referrer_message;if(""!==document.referrer){var a=document.createElement("a");a.href=document.referrer;var s=a.hostname.split(".")[1];window.location.hostname==a.hostname?t=i.localhost[0]+document.title.split(i.localhost[2])[0]+i.localhost[1]:"baidu"==s?t=i.baidu[0]+a.search.split("&wd=")[1].split("&")[0]+i.baidu[1]:"so"==s?t=i.so[0]+a.search.split("&q=")[1].split("&")[0]+i.so[1]:"google"==s?t=i.google[0]+document.title.split(i.google[2])[0]+i.google[1]:($.each(e.waifu.referrer_hostname,function(e,t){e==a.hostname&&(a.hostname=getRandText(t))}),t=i.default[0]+a.hostname+i.default[1])}else t=i.none[0]+document.title.split(i.none[2])[0]+i.none[1]}showMessage(t,6e3)},live2d_settings.showWelcomeMessage&&showWelcomeMessage(e);var t=e.waifu;function o(){var e=a("modelId"),o=live2d_settings.modelRandMode;$.ajax({cache:"switch"==o,url:live2d_settings.modelAPI+o+"/?id="+e,dataType:"json",success:function(e){loadModel(e.model.id);var o=e.model.message;$.each(t.model_message,function(t,i){t==e.model.id&&(o=getRandText(i))}),showMessage(o,3e3,!0)}})}function i(){var e=a("modelId"),o=a("modelTexturesId"),i=live2d_settings.modelTexturesRandMode;$.ajax({cache:"switch"==i,url:live2d_settings.modelAPI+i+"_textures/?id="+e+"-"+o,dataType:"json",success:function(i){1==i.textures.id&&(1==o||0==o)?showMessage(t.load_rand_textures[0],3e3,!0):showMessage(t.load_rand_textures[1],3e3,!0),loadModel(e,i.textures.id)}})}function a(e){return live2d_settings.modelStorage?localStorage.getItem(e):sessionStorage.getItem(e)}function s(){hitokotoInterval||(hitokotoInterval=!0,hitokotoTimer=window.setInterval(n,3e4))}function u(){getActed=hitokotoInterval=!1,window.clearInterval(hitokotoTimer)}function n(){"visible"==$(document)[0].visibilityState&&f()}function f(){live2d_settings.hitokotoAPI,$.ajax({url:"https://v1.hitokoto.cn",dataType:"json",crossDomain:!0,success:function(e){if(!empty(e.from)){var o=t.hitokoto_api_message["hitokoto.cn"][0];o=o.render({source:e.from,creator:e.creator}),window.setTimeout(function(){showMessage(o,3e3,!0)},5e3)}showMessage(e.hitokoto,5e3,!0)},error:function(e,t,o){console.warn("API请求失败，使用本地消息:",o),fallbackToLocalMessage()}})}live2d_settings.showHitokoto&&(window.getActed=!1,window.hitokotoTimer=0,window.hitokotoInterval=!1,$(document).mousemove(function(e){getActed=!0}).keydown(function(){getActed=!0}),setInterval(function(){getActed?u():s()},1e3)),$(".waifu-tool .fui-eye").click(function(){o()}),$(".waifu-tool .fui-user").click(function(){i()}),$(".waifu-tool .fui-chat").click(function(){f()}),setTimeout(function(){$(".waifu-tool .fui-chat").off("click").on("click",function(){console.log("聊天按钮点击 - 修复版");var e=["你好呀！今天过得怎么样？","要和我聊聊天吗？","代码写累了就休息一下吧～","保持微笑，一切都会好起来的！"];showMessage(e[Math.floor(Math.random()*e.length)],4e3,!0)}),$(".waifu-tool .fui-eye").off("click").on("click",o),$(".waifu-tool .fui-user").off("click").on("click",i)},1e3)}console.log(re);